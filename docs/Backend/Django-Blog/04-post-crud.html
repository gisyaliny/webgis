
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>17. POST Create, Read, Update and Delete &#8212; Yalin&#39;s GIS Developer Handbook</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/Backend/Django-Blog/04-post-crud';</script>
    <link rel="canonical" href="https://gisyaliny.github.io/gis/docs/Backend/Django-Blog/04-post-crud.html" />
    <link rel="icon" href="../../../_static/fav.ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="18. Customizing the Django Admin" href="07-customize-admin.html" />
    <link rel="prev" title="16. User Authentication Tutorial" href="03-user-registration.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../../_static/logo.png" class="logo__image only-light" alt="Yalin's GIS Developer Handbook - Home"/>
    <script>document.write(`<img src="../../../_static/logo.png" class="logo__image only-dark" alt="Yalin's GIS Developer Handbook - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">General</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../General/01-Emmet_Comprehensive_Tutorial.html">1. ðŸ§© Emmet â€” Complete Practical Guide for Web Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../General/02-Git_Beginner_Practical_Guide.html">2. ðŸ§­ Git for Everyday Development â€” A Beginner-Friendly Practical Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">CSS</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../CSS/01-get-start.html">3. Intro to CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CSS/02-CSS-Box.html">4. CSS Box Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CSS/03-css-layout.html">5. CSS Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CSS/04-css-selectors.html">6. CSS Selectors</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">JavaScript Basic</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../JS/01-JS-intro.html">7. Values, Types, and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../JS/03-loop-and-logic.html">8. Loops and logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../JS/02-Arrays-and-Object.html">9. Array and Object (Dictionary)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">JS Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../JS/Examples/Sort-Tables.html">10. Creating a Sortable HTML Table with JavaScript</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">ArcGIS JS API</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../JS/ArcGIS/01-get-started.html">11. Introduction to ArcGIS JS API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../JS/ArcGIS/02-manipulate-layers.html">12. Web Layers and widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../JS/ArcGIS/03-spatial-query.html">13. Working with Spatial Data with ArcGIS JS API</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Django Blog Project</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-get-started.html">14. Blog-get started (Django)</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-database-and-admin.html">15. Database and Migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-user-registration.html">16. User Authentication Tutorial</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">17. POST Create, Read, Update and Delete</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-customize-admin.html">18. Customizing the Django Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-rest-api.html">19. Django REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-deploy.html">20. Deploy Project into Windows Server (IIS)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">DataBase</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01-sql-comprehensive.html">21. SQL</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">React and TypeScript</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../React/01-get-started.html">22. React and TypeScript</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Cesium</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../Cesium/01-Introduction.html">23. Introduction</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/gisyaliny/gis/master?urlpath=tree/docs/Backend/Django-Blog/04-post-crud.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/gisyaliny/gis/blob/master/docs/Backend/Django-Blog/04-post-crud.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/gisyaliny/gis" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gisyaliny/gis/edit/main/docs/Backend/Django-Blog/04-post-crud.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/gisyaliny/gis/issues/new?title=Issue%20on%20page%20%2Fdocs/Backend/Django-Blog/04-post-crud.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/docs/Backend/Django-Blog/04-post-crud.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>POST Create, Read, Update and Delete</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-class-based-views-cbvs-vs-function-based-views-fbvs">17.1. Introduction to Class-Based Views (CBVs) vs. Function-Based Views (FBVs)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#class-based-views-cbvs">17.1.1. Class-Based Views (CBVs):</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#function-based-views-fbvs">17.1.2. Function-Based Views (FBVs):</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-create-post-create-view">17.2. Step 1: Create Post Create View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#notes">17.2.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-create-post-update-view">17.3. Step 2: Create Post Update View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">17.3.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-set-template-for-post-create-and-update-views">17.4. Step 3: Set Template for Post Create and Update Views</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step4-set-post-delete-view">17.5. Step4: Set Post Delete View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">17.5.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-construct-post-confirm-delete-template">17.6. Step 5: Construct Post Confirm Delete Template</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-set-post-detail-view">17.7. Step 6: Set Post Detail View</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-construct-post-detail-template">17.8. Step 7: Construct Post Detail Template</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">17.8.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-construct-url-patterns">17.9. Step 8: Construct URL Patterns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pagination">17.10. Pagination</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">17.11. Pagination</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-pagination-to-postlistview">17.11.1. Add Pagination to PostListView</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-pagination-template">17.11.2. Create a Pagination Template</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#queryset">17.12. QuerySet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-userposts-view">17.12.1. Create a UserPosts View</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construct-userposts-template">17.12.2. Construct UserPosts Template</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construct-url-pattern-for-user-posts">17.12.3. Construct URL Pattern for User Posts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resource">17.13. Additional Resource</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-generic-views">17.13.1. Built-in generic views</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pagination-object-in-django">17.13.2. Pagination Object in Django</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">17.13.2.1. Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-features-of-django-queryset">17.13.3. Key Features of Django QuerySet:</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="post-create-read-update-and-delete">
<h1><span class="section-number">17. </span>POST Create, Read, Update and Delete<a class="headerlink" href="#post-create-read-update-and-delete" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>In this chapter, we will use class based view to implement Post Create, Detail, Update and Delete functions</p></li>
</ul>
<section id="introduction-to-class-based-views-cbvs-vs-function-based-views-fbvs">
<h2><span class="section-number">17.1. </span>Introduction to Class-Based Views (CBVs) vs. Function-Based Views (FBVs)<a class="headerlink" href="#introduction-to-class-based-views-cbvs-vs-function-based-views-fbvs" title="Link to this heading">#</a></h2>
<section id="class-based-views-cbvs">
<h3><span class="section-number">17.1.1. </span>Class-Based Views (CBVs):<a class="headerlink" href="#class-based-views-cbvs" title="Link to this heading">#</a></h3>
<p>Advantages:</p>
<ul class="simple">
<li><p><strong>Reusable</strong>: You can inherit and reuse views.</p></li>
<li><p><strong>Organized</strong>: Code is more structured, separating concerns into methods.</p></li>
<li><p><strong>Built-in functionality</strong>: CBVs provide built-in methods for common tasks.
Disadvantages:</p></li>
<li><p><strong>Complexity</strong>: More complex to understand initially.</p></li>
<li><p><strong>Less control</strong>: Overriding built-in behavior can be complex.</p></li>
</ul>
</section>
<section id="function-based-views-fbvs">
<h3><span class="section-number">17.1.2. </span>Function-Based Views (FBVs):<a class="headerlink" href="#function-based-views-fbvs" title="Link to this heading">#</a></h3>
<p>Advantages:</p>
<ul class="simple">
<li><p><strong>Simplicity</strong>: Easier to understand and use.</p></li>
<li><p><strong>Flexibility</strong>: More straightforward for simple views.
Disadvantages:</p></li>
<li><p><strong>Less reusable</strong>: Harder to reuse and extend.</p></li>
<li><p><strong>Less organized</strong>: Can become cluttered with increasing complexity.</p></li>
</ul>
</section>
</section>
<section id="step-1-create-post-create-view">
<h2><span class="section-number">17.2. </span>Step 1: Create Post Create View<a class="headerlink" href="#step-1-create-post-create-view" title="Link to this heading">#</a></h2>
<ul>
<li><p>To create a new post with fields for the title and content.</p></li>
<li><p>The view will ensure that the post is <strong>associated with the logged-in <code class="docutils literal notranslate"><span class="pre">user</span></code></strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">CreateView</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.mixins</span> <span class="kn">import</span> <span class="n">LoginRequiredMixin</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="k">class</span> <span class="nc">PostCreateView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">CreateView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">):</span>
        <span class="n">form</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">author</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>

</pre></div>
</div>
</li>
</ul>
<section id="notes">
<h3><span class="section-number">17.2.1. </span>Notes:<a class="headerlink" href="#notes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Form Validation</strong>: The <code class="docutils literal notranslate"><span class="pre">form_valid</span></code> method ensures the form is valid and associates the post with the logged-in user.</p></li>
<li><p><strong>Template Naming Convention</strong>: The template for this view should be named <code class="docutils literal notranslate"><span class="pre">post_form.html</span></code> by default.</p></li>
</ul>
</section>
</section>
<section id="step-2-create-post-update-view">
<h2><span class="section-number">17.3. </span>Step 2: Create Post Update View<a class="headerlink" href="#step-2-create-post-update-view" title="Link to this heading">#</a></h2>
<ul>
<li><p>To update an existing post.</p></li>
<li><p>This view uses the same template as the <strong>create view</strong> and includes <strong>privilege checks to ensure only the post author can update the post</strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">UpdateView</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.mixins</span> <span class="kn">import</span> <span class="n">UserPassesTestMixin</span>

<span class="o">...</span>

<span class="k">class</span> <span class="nc">PostUpdateView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">UserPassesTestMixin</span><span class="p">,</span> <span class="n">UpdateView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">):</span>
        <span class="n">form</span><span class="o">.</span><span class="n">instance</span><span class="o">.</span><span class="n">author</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">post</span><span class="o">.</span><span class="n">author</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

</pre></div>
</div>
</li>
</ul>
<section id="id1">
<h3><span class="section-number">17.3.1. </span>Notes:<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Privilege Check</strong>: The <code class="docutils literal notranslate"><span class="pre">test_func</span></code> method ensures that only the post author can update the post.</p></li>
</ul>
</section>
</section>
<section id="step-3-set-template-for-post-create-and-update-views">
<h2><span class="section-number">17.4. </span>Step 3: Set Template for Post Create and Update Views<a class="headerlink" href="#step-3-set-template-for-post-create-and-update-views" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">users/templates/post_form.html</span></code></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &quot;blog/main.html&quot; %}
{% load crispy_forms_tags %}

{% block main-content %}

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Post a Blog<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {% for message in messages %}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-{{ message.tags }}&quot;</span><span class="p">&gt;</span>
        {{ message }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {% endfor %}
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
        {% csrf_token %}
        {{ form|crispy }}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;d-flex justify-content-end mt-2&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-primary me-2&quot;</span><span class="p">&gt;</span>Post<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;blog-home&#39; %}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-danger&quot;</span><span class="p">&gt;</span>Cancel<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

{% endblock main-content %}
</pre></div>
</div>
</li>
</ul>
</section>
<section id="step4-set-post-delete-view">
<h2><span class="section-number">17.5. </span>Step4: Set Post Delete View<a class="headerlink" href="#step4-set-post-delete-view" title="Link to this heading">#</a></h2>
<ul>
<li><p>To delete an existing post.</p></li>
<li><p>The view ensures only the post author can delete the <code class="docutils literal notranslate"><span class="pre">post</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">DeleteView</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse_lazy</span>

<span class="k">class</span> <span class="nc">PostDeleteView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">UserPassesTestMixin</span><span class="p">,</span> <span class="n">DeleteView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
    <span class="n">success_url</span> <span class="o">=</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;blog-home&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">post</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_object</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">post</span><span class="o">.</span><span class="n">author</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

</pre></div>
</div>
</li>
</ul>
<section id="id2">
<h3><span class="section-number">17.5.1. </span>Notes:<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Success URL</strong>: The <code class="docutils literal notranslate"><span class="pre">success_url</span></code> attribute defines the URL to redirect to after successful deletion.</p></li>
</ul>
</section>
</section>
<section id="step-5-construct-post-confirm-delete-template">
<h2><span class="section-number">17.6. </span>Step 5: Construct Post Confirm Delete Template<a class="headerlink" href="#step-5-construct-post-confirm-delete-template" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">users/templates/post_confirm_delete.html</span></code></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &quot;blog/main.html&quot; %}
{% load crispy_forms_tags %}

{% block main-content %}

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Delete Blog<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    {% for message in messages %}
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-{{ message.tags }}&quot;</span><span class="p">&gt;</span>
        {{ message }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {% endfor %}
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Are you sure you want to delete the post &quot;{{ object.title }}?&quot;<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span><span class="p">&gt;</span>
        {% csrf_token %}
        {{ form|crispy }}
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;d-flex justify-content-end mt-2&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-danger me-2&quot;</span><span class="p">&gt;</span>Delete<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;post-detail&#39; object.pk %}&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-secondary&quot;</span><span class="p">&gt;</span>Cancel<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

{% endblock main-content %}
</pre></div>
</div>
</li>
</ul>
</section>
<section id="step-6-set-post-detail-view">
<h2><span class="section-number">17.7. </span>Step 6: Set Post Detail View<a class="headerlink" href="#step-6-set-post-detail-view" title="Link to this heading">#</a></h2>
<ul>
<li><p>To display the details of a specific post.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">DetailView</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="k">class</span> <span class="nc">PostDetailView</span><span class="p">(</span><span class="n">DetailView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="step-7-construct-post-detail-template">
<h2><span class="section-number">17.8. </span>Step 7: Construct Post Detail Template<a class="headerlink" href="#step-7-construct-post-detail-template" title="Link to this heading">#</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">users/templates/users/post_detail.html</span></code></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &#39;blog/main.html&#39; %} {% block main-content%}

<span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;media content-section&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;rounded-circle article-img&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ object.author.userprofile.image.url }}&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;media-body&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-metadata&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mr-2&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;#&quot;</span><span class="p">&gt;</span>{{ object.author }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">small</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;text-muted&quot;</span><span class="p">&gt;</span>{{ object.date_posted|date:&quot;F d, Y&quot; }}<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>

            {% if object.author == user %}
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-secondary btn-sm mt-1 mb-1&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;post-update&#39; object.pk %}&quot;</span><span class="p">&gt;</span>Update<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-danger btn-sm mt-1 mb-1&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;post-delete&#39; object.pk %}&quot;</span><span class="p">&gt;</span>Delete<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            {% endif %}

        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-title&quot;</span><span class="p">&gt;</span>{{ object.title }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-content&quot;</span><span class="p">&gt;</span>{{ object.content }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>

{% endblock main-content %}
</pre></div>
</div>
</li>
</ul>
<section id="id3">
<h3><span class="section-number">17.8.1. </span>Notes:<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Privilege Check</strong>: Ensure that only the author can see the update and delete options.</p></li>
</ul>
</section>
</section>
<section id="step-8-construct-url-patterns">
<h2><span class="section-number">17.9. </span>Step 8: Construct URL Patterns<a class="headerlink" href="#step-8-construct-url-patterns" title="Link to this heading">#</a></h2>
<ul>
<li><p>Define the URL patterns for the post CRUD operations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.views</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">PostDetailView</span><span class="p">,</span>
    <span class="n">PostCreateView</span><span class="p">,</span>
    <span class="n">PostUpdateView</span><span class="p">,</span>
    <span class="n">PostDeleteView</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;post/&lt;int:pk&gt;&quot;</span><span class="p">,</span> <span class="n">PostDetailView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;post-detail&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;post/&lt;int:pk&gt;/update&quot;</span><span class="p">,</span> <span class="n">PostUpdateView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;post-update&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;post/&lt;int:pk&gt;/delete&quot;</span><span class="p">,</span> <span class="n">PostDeleteView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;post-delete&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s2">&quot;post/new&quot;</span><span class="p">,</span> <span class="n">PostCreateView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;post-create&#39;</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>

</pre></div>
</div>
</li>
</ul>
<ul>
<li><p>Write <code class="docutils literal notranslate"><span class="pre">get_absolute_url</span></code> in Post Model</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_absolute_url</span></code> method provides a way to generate a URL for the detail view of the object.</p></li>
<li><p>This is particularly useful in <code class="docutils literal notranslate"><span class="pre">templates</span></code> and <code class="docutils literal notranslate"><span class="pre">views</span></code> where you <strong>need to link to the detailed view of a model instance</strong>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">get_absolute_url</span></code> method uses the <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function to generate the URL for the detailed view of the post.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reverse</span></code> function takes the name of the URL pattern (<code class="docutils literal notranslate"><span class="pre">post-detail</span></code>) and the <code class="docutils literal notranslate"><span class="pre">primary</span> <span class="pre">key</span></code> of the post as arguments.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">timezone</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>

<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">date_posted</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>

    <span class="k">def</span> <span class="nf">get_absolute_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;post-detail&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pk&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pk</span><span class="p">})</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="pagination">
<h2><span class="section-number">17.10. </span>Pagination<a class="headerlink" href="#pagination" title="Link to this heading">#</a></h2>
<ul>
<li><p>For demonstration, we generate multiple Post and Comment templates</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>shell
</pre></div>
</div>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">django</span> <span class="pre">shell</span></code> to load templates into our database</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">blog.models</span> <span class="kn">import</span> <span class="n">Post</span><span class="p">,</span> <span class="n">Comment</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;post.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">posts_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts_json</span><span class="p">:</span>
    <span class="n">temp_post</span> <span class="o">=</span> <span class="n">Post</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="n">post</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">content</span> <span class="o">=</span> <span class="n">post</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">],</span><span class="n">author_id</span> <span class="o">=</span> <span class="n">post</span><span class="p">[</span><span class="s1">&#39;user_id&#39;</span><span class="p">])</span>
    <span class="n">temp_post</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c1"># Load Comment data</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;comment.json&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">comments_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="k">for</span> <span class="n">comment</span> <span class="ow">in</span> <span class="n">comments_json</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">post</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;post_id&#39;</span><span class="p">])</span>
        <span class="n">author</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;author_id&#39;</span><span class="p">])</span>
        <span class="n">temp_comment</span> <span class="o">=</span> <span class="n">Comment</span><span class="p">(</span>
            <span class="n">post</span><span class="o">=</span><span class="n">post</span><span class="p">,</span>
            <span class="n">author</span><span class="o">=</span><span class="n">author</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">],</span>
            <span class="n">date_posted</span><span class="o">=</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;date_posted&#39;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">temp_comment</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">Post</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Post with id </span><span class="si">{</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;post_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">User</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User with id </span><span class="si">{</span><span class="n">comment</span><span class="p">[</span><span class="s1">&#39;author_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> does not exist.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An error occurred: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Comments imported successfully!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id4">
<h2><span class="section-number">17.11. </span>Pagination<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Pagination</span></code> is the process of dividing content into discrete pages, making it easier to navigate through large datasets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Django</span></code> provides <strong>built-in support for pagination</strong> through <strong>class-based views</strong>.</p></li>
</ul>
<section id="add-pagination-to-postlistview">
<h3><span class="section-number">17.11.1. </span>Add Pagination to PostListView<a class="headerlink" href="#add-pagination-to-postlistview" title="Link to this heading">#</a></h3>
<ul>
<li><p>To display a limited number of posts per page on the home view and add pagination controls for navigation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># users/views.py</span>
<span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">ListView</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="o">...</span>

<span class="k">class</span> <span class="nc">PostListView</span><span class="p">(</span><span class="n">ListView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;blog/home.html&#39;</span>
    <span class="n">context_object_name</span> <span class="o">=</span> <span class="s1">&#39;posts&#39;</span>
    <span class="n">paginate_by</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">ordering</span> <span class="o">=</span> <span class="s1">&#39;-date_posted&#39;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="create-a-pagination-template">
<h3><span class="section-number">17.11.2. </span>Create a Pagination Template<a class="headerlink" href="#create-a-pagination-template" title="Link to this heading">#</a></h3>
<ul>
<li><p>To provide pagination controls for navigating between pages.</p></li>
<li><p>Create a template named <code class="docutils literal notranslate"><span class="pre">pagination.html</span></code> and include it in the <code class="docutils literal notranslate"><span class="pre">home.html</span></code> view.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- pagination.html --&gt;</span>
<span class="cm">&lt;!-- Check if pagination is enabled --&gt;</span>
{% if is_paginated %}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container text-center&quot;</span><span class="p">&gt;</span> <span class="cm">&lt;!-- Bootstrap container and text-center class for center alignment --&gt;</span>
    <span class="cm">&lt;!-- Check if there is a previous page --&gt;</span>
    {% if page_obj.has_previous %}
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page=1&quot;</span><span class="p">&gt;</span>First<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="cm">&lt;!-- Link to first page --&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.previous_page_number }}&quot;</span><span class="p">&gt;</span>Previous<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Link to previous page --&gt;</span>
    {% endif %}

    <span class="cm">&lt;!-- Loop through each page number --&gt;</span>
    {% for num in page_obj.paginator.page_range %}
    <span class="cm">&lt;!-- Check if the current page number is equal to the looped number --&gt;</span>
    {% if page_obj.number == num %}
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ num }}&quot;</span><span class="p">&gt;</span>{{ num }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="cm">&lt;!-- Active page number --&gt;</span>

    <span class="cm">&lt;!-- Check if the page number is within a range of 3 pages from the current page --&gt;</span>
    {% elif num &gt; page_obj.number|add:&#39;-3&#39; and num <span class="p">&lt;</span> <span class="nt">page_obj.number</span><span class="err">|</span><span class="na">add:</span><span class="err">&#39;</span><span class="na">3</span><span class="err">&#39;</span> <span class="err">%}</span>
    <span class="err">&lt;</span><span class="na">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ num }}&quot;</span><span class="p">&gt;</span>{{ num }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> <span class="cm">&lt;!-- Nearby pages --&gt;</span>
    {% endif %}
    {% endfor %}

    <span class="cm">&lt;!-- Check if there is a next page --&gt;</span>
    {% if page_obj.has_next %}
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.next_page_number }}&quot;</span><span class="p">&gt;</span>Next<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Link to next page --&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-outline-info mb-4&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.paginator.num_pages }}&quot;</span><span class="p">&gt;</span>Last<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Link to last page --&gt;</span>
    {% endif %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span> <span class="cm">&lt;!-- Close container --&gt;</span>
{% endif %}
</pre></div>
</div>
</li>
</ul>
<ul>
<li><p>Include the pagination template in <code class="docutils literal notranslate"><span class="pre">home.html</span></code>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- home.html --&gt;</span>
...
{% include &#39;blog/pagination.html&#39; %}
...
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="queryset">
<h2><span class="section-number">17.12. </span>QuerySet<a class="headerlink" href="#queryset" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">QuerySet</span></code> is a collection of database queries in Django.</p></li>
<li><p>It allows you to retrieve, filter, and manipulate data from the database.</p></li>
</ul>
<section id="create-a-userposts-view">
<h3><span class="section-number">17.12.1. </span>Create a UserPosts View<a class="headerlink" href="#create-a-userposts-view" title="Link to this heading">#</a></h3>
<ul>
<li><p>To <strong>list posts by a specific user</strong> and implement pagination for these posts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_queryset</span></code>: The<code class="docutils literal notranslate"> <span class="pre">get_queryset</span></code> method is used to filter the posts by the specific user passed in the URL.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">view.kwargs</span></code>: This includes the <code class="docutils literal notranslate"><span class="pre">URL</span> <span class="pre">parameters</span></code>, such as <code class="docutils literal notranslate"><span class="pre">username</span></code>, which are used to filter the posts.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># users/views.py</span>
<span class="kn">from</span> <span class="nn">django.views.generic</span> <span class="kn">import</span> <span class="n">ListView</span>
<span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="o">...</span>

<span class="k">class</span> <span class="nc">UserPostsView</span><span class="p">(</span><span class="n">ListView</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Post</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;blog/user_posts.html&#39;</span>
    <span class="n">context_object_name</span> <span class="o">=</span> <span class="s1">&#39;posts&#39;</span>
    <span class="n">paginate_by</span> <span class="o">=</span> <span class="mi">5</span>
    
    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-date_posted&#39;</span><span class="p">)</span>

</pre></div>
</div>
</li>
</ul>
</section>
<section id="construct-userposts-template">
<h3><span class="section-number">17.12.2. </span>Construct UserPosts Template<a class="headerlink" href="#construct-userposts-template" title="Link to this heading">#</a></h3>
<ul>
<li><p>Create a template named <code class="docutils literal notranslate"><span class="pre">user_posts.html</span></code>.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &#39;blog/main.html&#39; %}

{% block main-content %}

{% if is_paginated %}
<span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mb-3&quot;</span><span class="p">&gt;</span> Posts by {{ view.kwargs.username }} ({{ page_obj.paginator.count }})<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% else %}
<span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mb-3&quot;</span><span class="p">&gt;</span> Posts by {{ view.kwargs.username }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% endif %}

{% for post in posts %}
<span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;media content-section&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;rounded-circle article-img&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{{ post.author.userprofile.image.url }}&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;media-body&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-metadata&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mr-2&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;user-posts&#39; post.author.username %}&quot;</span><span class="p">&gt;</span>{{ post.author }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">small</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;text-muted&quot;</span><span class="p">&gt;</span>{{ post.date_posted|date:&quot;F d, Y&quot; }}<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-title&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;post-detail&#39; post.pk %}&quot;</span><span class="p">&gt;</span>{{ post.title }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;article-content&quot;</span><span class="p">&gt;</span>{{ post.content }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
{% endfor %}

{% include &#39;blog/pagination.html&#39; %}

{% endblock main-content %}
</pre></div>
</div>
</li>
</ul>
</section>
<section id="construct-url-pattern-for-user-posts">
<h3><span class="section-number">17.12.3. </span>Construct URL Pattern for User Posts<a class="headerlink" href="#construct-url-pattern-for-user-posts" title="Link to this heading">#</a></h3>
<ul>
<li><p>Define the URL pattern for the <code class="docutils literal notranslate"><span class="pre">UserPostsView</span></code> to filter posts by a specific user.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
<span class="o">...</span><span class="p">,</span>
<span class="n">path</span><span class="p">(</span><span class="s2">&quot;&lt;str:username&gt;/post&quot;</span><span class="p">,</span> <span class="n">UserPostsView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;user-posts&#39;</span><span class="p">),</span>
<span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="additional-resource">
<h2><span class="section-number">17.13. </span>Additional Resource<a class="headerlink" href="#additional-resource" title="Link to this heading">#</a></h2>
<section id="built-in-generic-views">
<h3><span class="section-number">17.13.1. </span>Built-in generic views<a class="headerlink" href="#built-in-generic-views" title="Link to this heading">#</a></h3>
<table>
  <tr>
    <th>View</th>
    <th>Description</th>
    <th>Parameters</th>
    <th>Example</th>
  </tr>
  <tr>
    <td>TemplateView</td>
    <td>Renders a template.</td>
    <td>
      <ul>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>extra_context:</b> A dictionary of context data to add to the template context.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import TemplateView
class HomePageView(TemplateView):
    template_name = 'home.html'
      </pre>
    </td>
  </tr>
  <tr>
    <td>ListView</td>
    <td>Displays a list of objects.</td>
    <td>
      <ul>
        <li><b>model:</b> The model to query.</li>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>context_object_name:</b> The name of the context variable to use.</li>
        <li><b>paginate_by:</b> Number of objects per page.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import ListView
from .models import Post
class PostListView(ListView):
    model = Post
    template_name = 'posts/post_list.html'
    context_object_name = 'posts'
      </pre>
    </td>
  </tr>
  <tr>
    <td>DetailView</td>
    <td>Displays a detail page for a single object.</td>
    <td>
      <ul>
        <li><b>model:</b> The model to query.</li>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>context_object_name:</b> The name of the context variable to use.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import DetailView
from .models import Post
class PostDetailView(DetailView):
    model = Post
    template_name = 'posts/post_detail.html'
    context_object_name = 'post'
      </pre>
    </td>
  </tr>
  <tr>
    <td>CreateView</td>
    <td>Displays a form for creating a new object and saves the object.</td>
    <td>
      <ul>
        <li><b>model:</b> The model to query.</li>
        <li><b>form_class:</b> The form class to use.</li>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>success_url:</b> URL to redirect to after success.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import CreateView
from .models import Post
from .forms import PostForm
class PostCreateView(CreateView):
    model = Post
    form_class = PostForm
    template_name = 'posts/post_form.html'
    success_url = '/posts/'
      </pre>
    </td>
  </tr>
  <tr>
    <td>UpdateView</td>
    <td>Displays a form for updating an existing object and saves the changes.</td>
    <td>
      <ul>
        <li><b>model:</b> The model to query.</li>
        <li><b>form_class:</b> The form class to use.</li>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>success_url:</b> URL to redirect to after success.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import UpdateView
from .models import Post
from .forms import PostForm
class PostUpdateView(UpdateView):
    model = Post
    form_class = PostForm
    template_name = 'posts/post_form.html'
    success_url = '/posts/'
      </pre>
    </td>
  </tr>
  <tr>
    <td>DeleteView</td>
    <td>Displays a confirmation page and deletes an existing object.</td>
    <td>
      <ul>
        <li><b>model:</b> The model to query.</li>
        <li><b>template_name:</b> The name of the template to use.</li>
        <li><b>success_url:</b> URL to redirect to after success.</li>
      </ul>
    </td>
    <td>
      <pre>
python
from django.views.generic import DeleteView
from .models import Post
class PostDeleteView(DeleteView):
    model = Post
    template_name = 'posts/post_confirm_delete.html'
    success_url = '/posts/'
      </pre>
    </td>
  </tr>
</table>
</section>
<section id="pagination-object-in-django">
<h3><span class="section-number">17.13.2. </span>Pagination Object in Django<a class="headerlink" href="#pagination-object-in-django" title="Link to this heading">#</a></h3>
<table>
  <tr>
    <th>Parameter/Method</th>
    <th>Purpose</th>
    <th>Example</th>
  </tr>
  <tr>
    <td>page_obj.number</td>
    <td>Current page number</td>
    <td><code>{{ page_obj.number }}</code></td>
  </tr>
  <tr>
    <td>page_obj.paginator</td>
    <td>Paginator object used for pagination</td>
    <td><code>{% if page_obj.has_previous %}</code></td>
  </tr>
  <tr>
    <td>page_obj.has_previous</td>
    <td>Boolean indicating if there's a previous page</td>
    <td><code>{% if page_obj.has_previous %}</code></td>
  </tr>
  <tr>
    <td>page_obj.previous_page_number</td>
    <td>Number of the previous page</td>
    <td><code><a href="?page={{ page_obj.previous_page_number }}">Previous</a></code></td>
  </tr>
  <tr>
    <td>page_obj.has_next</td>
    <td>Boolean indicating if there's a next page</td>
    <td><code>{% if page_obj.has_next %}</code></td>
  </tr>
  <tr>
    <td>page_obj.next_page_number</td>
    <td>Number of the next page</td>
    <td><code><a href="?page={{ page_obj.next_page_number }}">Next</a></code></td>
  </tr>
  <tr>
    <td>page_obj.paginator.num_pages</td>
    <td>Total number of pages in the paginator</td>
    <td><code>Total Pages: {{ page_obj.paginator.num_pages }}</code></td>
  </tr>
  <tr>
    <td>page_obj.paginator.page_range</td>
    <td>Iterable range of page numbers in paginator</td>
    <td><code>{% for num in page_obj.paginator.page_range %}</code></td>
  </tr>
  <tr>
    <td>page_obj.paginator.count</td>
    <td>Total count of items across all pages</td>
    <td><code>Total Items: {{ page_obj.paginator.count }}</code></td>
  </tr>
  <tr>
    <td>page_obj.start_index</td>
    <td>1-based index of the first item on the current page</td>
    <td><code>First Item Index: {{ page_obj.start_index }}</code></td>
  </tr>
  <tr>
    <td>page_obj.end_index</td>
    <td>1-based index of the last item on the current page</td>
    <td><code>Last Item Index: {{ page_obj.end_index }}</code></td>
  </tr>
</table>
<section id="example">
<h4><span class="section-number">17.13.2.1. </span>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Displaying Current Page Number:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>Current Page: {{ page_obj.number }}
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Previous Page Link:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% if page_obj.has_previous %}
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.previous_page_number }}&quot;</span><span class="p">&gt;</span>Previous<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
{% endif %}
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Next Page Link:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% if page_obj.has_next %}
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.next_page_number }}&quot;</span><span class="p">&gt;</span>Next<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
{% endif %}
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Looping through Page Numbers:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% for num in page_obj.paginator.page_range %}
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ num }}&quot;</span><span class="p">&gt;</span>{{ num }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
{% endfor %}
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Displaying Total Pages:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>Total Pages: {{ page_obj.paginator.num_pages }}
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Displaying Total Items:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>Total Items: {{ page_obj.paginator.count }}
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>Displaying Start and End Indexes:</p></li>
</ol>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>Items {{ page_obj.start_index }}-{{ page_obj.end_index }}
</pre></div>
</div>
</section>
</section>
<section id="key-features-of-django-queryset">
<h3><span class="section-number">17.13.3. </span>Key Features of Django QuerySet:<a class="headerlink" href="#key-features-of-django-queryset" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Filtering (<code class="docutils literal notranslate"><span class="pre">filter()</span></code>)</strong>: Returns a new QuerySet containing objects that match the given lookup parameters.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queryset</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Excluding (<code class="docutils literal notranslate"><span class="pre">exclude()</span></code>)</strong>: Returns a new QuerySet excluding objects that match the given lookup parameters.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queryset</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Get single object (<code class="docutils literal notranslate"><span class="pre">get()</span></code>)</strong>: Returns a single object matching the given lookup parameters. Raises an exception if multiple objects are found or none match.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">obj</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>Ordering (<code class="docutils literal notranslate"><span class="pre">order_by()</span></code>)</strong>: Orders the QuerySet by the given field(s) in ascending or descending order.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queryset</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-created_at&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>Slicing (<code class="docutils literal notranslate"><span class="pre">[start:end]</span></code>)</strong>: Allows slicing of QuerySets to limit the number of results returned.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queryset</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p><strong>Aggregation (<code class="docutils literal notranslate"><span class="pre">aggregate()</span></code>)</strong>: Computes aggregate values (e.g., <code class="docutils literal notranslate"><span class="pre">count</span></code>, <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">average</span></code>) across the QuerySet.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="n">Count</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">))</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p><strong>Counting (<code class="docutils literal notranslate"><span class="pre">count()</span></code>)</strong>: Returns the number of objects in the QuerySet.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">count</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p><strong>Iterating (<code class="docutils literal notranslate"><span class="pre">iterator()</span></code>)</strong>: Returns an iterator over the QuerySet to efficiently process large result sets.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queryset</span> <span class="o">=</span> <span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">iterator</span><span class="p">()</span>
<span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">queryset</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">field_name</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li><p><strong>Deletion (<code class="docutils literal notranslate"><span class="pre">delete()</span></code>)</strong>: Deletes the objects in the QuerySet from the database.</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">field_name</span><span class="o">=</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs\Backend\Django-Blog"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="03-user-registration.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">16. </span>User Authentication Tutorial</p>
      </div>
    </a>
    <a class="right-next"
       href="07-customize-admin.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">18. </span>Customizing the Django Admin</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-class-based-views-cbvs-vs-function-based-views-fbvs">17.1. Introduction to Class-Based Views (CBVs) vs. Function-Based Views (FBVs)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#class-based-views-cbvs">17.1.1. Class-Based Views (CBVs):</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#function-based-views-fbvs">17.1.2. Function-Based Views (FBVs):</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-create-post-create-view">17.2. Step 1: Create Post Create View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#notes">17.2.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-create-post-update-view">17.3. Step 2: Create Post Update View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">17.3.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-set-template-for-post-create-and-update-views">17.4. Step 3: Set Template for Post Create and Update Views</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step4-set-post-delete-view">17.5. Step4: Set Post Delete View</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">17.5.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-construct-post-confirm-delete-template">17.6. Step 5: Construct Post Confirm Delete Template</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-6-set-post-detail-view">17.7. Step 6: Set Post Detail View</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-7-construct-post-detail-template">17.8. Step 7: Construct Post Detail Template</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">17.8.1. Notes:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-8-construct-url-patterns">17.9. Step 8: Construct URL Patterns</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pagination">17.10. Pagination</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">17.11. Pagination</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#add-pagination-to-postlistview">17.11.1. Add Pagination to PostListView</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-pagination-template">17.11.2. Create a Pagination Template</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#queryset">17.12. QuerySet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-userposts-view">17.12.1. Create a UserPosts View</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construct-userposts-template">17.12.2. Construct UserPosts Template</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#construct-url-pattern-for-user-posts">17.12.3. Construct URL Pattern for User Posts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resource">17.13. Additional Resource</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-generic-views">17.13.1. Built-in generic views</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pagination-object-in-django">17.13.2. Pagination Object in Django</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">17.13.2.1. Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#key-features-of-django-queryset">17.13.3. Key Features of Django QuerySet:</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yalin Yang
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>